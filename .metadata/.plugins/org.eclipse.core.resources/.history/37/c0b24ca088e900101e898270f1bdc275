package create.dataset;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.StringTokenizer;

public class MainClass {

	private static String FS= File.separator;
	private static String[] prep = {"in", "of", "on"};
	private static ArrayList<String>[] arr = new ArrayList[prep.length];
	
	
	private static ArrayList<String> of = new ArrayList<String>();;
	private static ArrayList<String> on = new ArrayList<String>();;
	
	static void ReadDataSet() throws IOException
	{
		// TODO
		// Read all files from directory
		// Make seperate function for reading preposition 'in, of, on'
		//
		
		 String path = "data"+FS+"data_stage_one"+FS+"training_set";  // Folder path 
		 
		  String filename, line;
		  File folder = new File(path);
		  File[] listOfFiles = folder.listFiles();
		  BufferedReader br = null;
		  for(int i=0; i < listOfFiles.length; i++)
		  { 
			  System.out.println(listOfFiles[i].getName());
			  filename = path+FS+listOfFiles[i].getName();
			  try
			  {
				  br= new BufferedReader(new FileReader(new File(filename)));
				  while((line = br.readLine())!= null)
				  {
					for(int j=0; j<3; j++)
					{
						//line.contentEquals(new StringBuffer(prep[j]));
						StringTokenizer st = new StringTokenizer(line);
						while(st.hasMoreTokens())
							if(st.nextToken().equalsIgnoreCase(prep[j]))
							{	System.out.println(line);
							
								arr[j].add(line.toLowerCase());
							/*	switch(j)
								{
								case 0:
										in.add(line.toLowerCase());
										break;
								case 1:
										of.add(line.toLowerCase());
										break;
								case 2:
										on.add(line.toLowerCase());
										break;
								}
								*/
							}
					}
				  }
				  
			  }
			  catch(Exception e)
			  {
				  System.err.println("exception: "+e.getMessage() );
				  e.printStackTrace();
				  System.exit(0);
			  }
			  finally
			  {
				  br.close();
			  }
		  }
		  System.out.println("in:"+in.size()+" on:"+on.size()+" of:"+of.size()+" ");
	}
	
	static void WriteSeperated(ArrayList<String> arr)
	{
		
	}
	
	
	static void AddToOf(String line)
	{
		
	}
	/**
	 * @param args
	 * @throws IOException 
	 */
	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		ReadDataSet();
		WriteSeperated(in);
		WriteSeperated(in);
		WriteSeperated(in);
		System.out.println("DONE");
	}

}
